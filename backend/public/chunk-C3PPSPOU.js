import{a as L}from"./chunk-2JGTSTN5.js";import{b as D,c as I,e as s,g as z,h as j,k as V,m as Y,n as B,v as U,x as H}from"./chunk-OML2JDMB.js";import{$a as i,Ca as w,Ea as u,Ha as c,Ia as l,Ja as o,Ka as d,Kb as A,Pa as R,Qa as g,Yb as G,Zb as q,a as N,bb as T,la as a,pa as S,ta as k,ya as m}from"./chunk-KV2FSBEJ.js";function K(t,r){if(t&1&&(l(0,"div",3),i(1),o()),t&2){let n=g();a(),T(" ",n.errorMessage," ")}}function Q(t,r){t&1&&i(0," El nombre de usuario es obligatorio ")}function W(t,r){t&1&&i(0," El nombre de usuario debe tener al menos 3 caracteres ")}function X(t,r){if(t&1&&(l(0,"div",9),m(1,Q,1,0)(2,W,1,0),o()),t&2){let n,e=g();a(),c(!((n=e.registerForm.get("Nombre_de_usuario"))==null||n.errors==null)&&n.errors.required?1:!((n=e.registerForm.get("Nombre_de_usuario"))==null||n.errors==null)&&n.errors.minlength?2:-1)}}function Z(t,r){t&1&&i(0," El correo electr\xF3nico es obligatorio ")}function $(t,r){t&1&&i(0," Ingrese un correo electr\xF3nico v\xE1lido ")}function ee(t,r){if(t&1&&(l(0,"div",9),m(1,Z,1,0)(2,$,1,0),o()),t&2){let n,e=g();a(),c(!((n=e.registerForm.get("Gmail"))==null||n.errors==null)&&n.errors.required?1:!((n=e.registerForm.get("Gmail"))==null||n.errors==null)&&n.errors.email?2:-1)}}function te(t,r){t&1&&(l(0,"div",9),i(1,"El nombre es obligatorio"),o())}function ne(t,r){t&1&&(l(0,"div",9),i(1,"Los apellidos son obligatorios"),o())}function oe(t,r){t&1&&i(0," La contrase\xF1a es obligatoria ")}function ie(t,r){t&1&&i(0," La contrase\xF1a debe tener al menos 6 caracteres ")}function re(t,r){if(t&1&&(l(0,"div",9),m(1,oe,1,0)(2,ie,1,0),o()),t&2){let n,e=g();a(),c(!((n=e.registerForm.get("Contrasena"))==null||n.errors==null)&&n.errors.required?1:!((n=e.registerForm.get("Contrasena"))==null||n.errors==null)&&n.errors.minlength?2:-1)}}function le(t,r){t&1&&i(0," Confirme su contrase\xF1a ")}function ae(t,r){t&1&&i(0," Las contrase\xF1as no coinciden ")}function me(t,r){if(t&1&&(l(0,"div",9),m(1,le,1,0)(2,ae,1,0),o()),t&2){let n,e=g();a(),c(!((n=e.registerForm.get("confirmarContrasena"))==null||n.errors==null)&&n.errors.required?1:!((n=e.registerForm.get("confirmarContrasena"))==null||n.errors==null)&&n.errors.passwordMismatch?2:-1)}}function ce(t,r){t&1&&(l(0,"div",9),i(1,"Debe aceptar los t\xE9rminos y condiciones"),o())}function se(t,r){t&1&&(l(0,"div",9),i(1,"Debe aceptar la pol\xEDtica de privacidad"),o())}function de(t,r){t&1&&(d(0,"span",31),i(1," Registrando... "))}function ue(t,r){t&1&&i(0," Crear Cuenta ")}var J=class t{constructor(r,n,e){this.fb=r;this.authService=n;this.router=e;this.registerForm=this.fb.group({Nombre_de_usuario:["",[s.required,s.minLength(3)]],Gmail:["",[s.required,s.email]],Contrasena:["",[s.required,s.minLength(6)]],confirmarContrasena:["",[s.required]],Nombre:["",[s.required]],Apellidos:["",[s.required]],Aceptacion_TYC:[!1,[s.requiredTrue]],Aceptacion_Politica:[!1,[s.requiredTrue]]},{validators:this.passwordMatchValidator})}registerForm;errorMessage=null;isLoading=!1;passwordMatchValidator(r){let n=r.get("Contrasena")?.value,e=r.get("confirmarContrasena")?.value;return n!==e?(r.get("confirmarContrasena")?.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):null}onSubmit(){if(this.registerForm.invalid){this.registerForm.markAllAsTouched();return}this.isLoading=!0,this.errorMessage=null;let r=N({},this.registerForm.value);delete r.confirmarContrasena,this.authService.register(r).subscribe({next:()=>{this.isLoading=!1,this.router.navigate(["/login"],{queryParams:{registered:"success"}})},error:n=>{this.isLoading=!1,n.status===409?this.errorMessage="El nombre de usuario o correo electr\xF3nico ya est\xE1 registrado":this.errorMessage="Error al registrar. Por favor, int\xE9ntelo de nuevo m\xE1s tarde.",console.error("Register error:",n)}})}static \u0275fac=function(n){return new(n||t)(S(U),S(L),S(G))};static \u0275cmp=k({type:t,selectors:[["app-register"]],decls:69,vars:24,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"error-message"],[3,"ngSubmit","formGroup"],[1,"form-row"],[1,"form-group"],["for","username"],["type","text","id","username","formControlName","Nombre_de_usuario","placeholder","Elija un nombre de usuario"],[1,"error-hint"],["for","email"],["type","email","id","email","formControlName","Gmail","placeholder","Ingrese su correo electr\xF3nico"],["for","nombre"],["type","text","id","nombre","formControlName","Nombre","placeholder","Ingrese su nombre"],["for","apellidos"],["type","text","id","apellidos","formControlName","Apellidos","placeholder","Ingrese sus apellidos"],["for","password"],["type","password","id","password","formControlName","Contrasena","placeholder","Cree una contrase\xF1a"],["for","confirmPassword"],["type","password","id","confirmPassword","formControlName","confirmarContrasena","placeholder","Confirme su contrase\xF1a"],[1,"form-group","checkbox-group"],[1,"checkbox-container"],["type","checkbox","id","terms","formControlName","Aceptacion_TYC"],["for","terms"],["href","#","target","_blank"],["type","checkbox","id","privacy","formControlName","Aceptacion_Politica"],["for","privacy"],[1,"form-actions"],["type","submit",1,"btn-submit",3,"disabled"],[1,"auth-footer"],["routerLink","/login"],[1,"spinner"]],template:function(n,e){if(n&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),i(4,"Crear Cuenta"),o(),l(5,"p"),i(6,"\xDAnete a nuestra comunidad de recetas"),o()(),m(7,K,2,1,"div",3),l(8,"form",4),R("ngSubmit",function(){return e.onSubmit()}),l(9,"div",5)(10,"div",6)(11,"label",7),i(12,"Nombre de Usuario*"),o(),d(13,"input",8),m(14,X,3,1,"div",9),o(),l(15,"div",6)(16,"label",10),i(17,"Correo Electr\xF3nico*"),o(),d(18,"input",11),m(19,ee,3,1,"div",9),o()(),l(20,"div",5)(21,"div",6)(22,"label",12),i(23,"Nombre*"),o(),d(24,"input",13),m(25,te,2,0,"div",9),o(),l(26,"div",6)(27,"label",14),i(28,"Apellidos*"),o(),d(29,"input",15),m(30,ne,2,0,"div",9),o()(),l(31,"div",5)(32,"div",6)(33,"label",16),i(34,"Contrase\xF1a*"),o(),d(35,"input",17),m(36,re,3,1,"div",9),o(),l(37,"div",6)(38,"label",18),i(39,"Confirmar Contrase\xF1a*"),o(),d(40,"input",19),m(41,me,3,1,"div",9),o()(),l(42,"div",20)(43,"div",21),d(44,"input",22),l(45,"label",23),i(46,"Acepto los "),l(47,"a",24),i(48,"T\xE9rminos y Condiciones"),o(),i(49,"*"),o()(),m(50,ce,2,0,"div",9),o(),l(51,"div",20)(52,"div",21),d(53,"input",25),l(54,"label",26),i(55,"Acepto la "),l(56,"a",24),i(57,"Pol\xEDtica de Privacidad"),o(),i(58,"*"),o()(),m(59,se,2,0,"div",9),o(),l(60,"div",27)(61,"button",28),m(62,de,2,0)(63,ue,1,0),o()()(),l(64,"div",29)(65,"p"),i(66,"\xBFYa tienes una cuenta? "),l(67,"a",30),i(68,"Inicia sesi\xF3n aqu\xED"),o()()()()()),n&2){let p,_,C,f,b,v,h,P,M,x,O,F,E,y;a(7),c(e.errorMessage?7:-1),a(),w("formGroup",e.registerForm),a(5),u("invalid",((p=e.registerForm.get("Nombre_de_usuario"))==null?null:p.invalid)&&((p=e.registerForm.get("Nombre_de_usuario"))==null?null:p.touched)),a(),c((_=e.registerForm.get("Nombre_de_usuario"))!=null&&_.invalid&&((_=e.registerForm.get("Nombre_de_usuario"))!=null&&_.touched)?14:-1),a(4),u("invalid",((C=e.registerForm.get("Gmail"))==null?null:C.invalid)&&((C=e.registerForm.get("Gmail"))==null?null:C.touched)),a(),c((f=e.registerForm.get("Gmail"))!=null&&f.invalid&&((f=e.registerForm.get("Gmail"))!=null&&f.touched)?19:-1),a(5),u("invalid",((b=e.registerForm.get("Nombre"))==null?null:b.invalid)&&((b=e.registerForm.get("Nombre"))==null?null:b.touched)),a(),c((v=e.registerForm.get("Nombre"))!=null&&v.invalid&&((v=e.registerForm.get("Nombre"))!=null&&v.touched)?25:-1),a(4),u("invalid",((h=e.registerForm.get("Apellidos"))==null?null:h.invalid)&&((h=e.registerForm.get("Apellidos"))==null?null:h.touched)),a(),c((P=e.registerForm.get("Apellidos"))!=null&&P.invalid&&((P=e.registerForm.get("Apellidos"))!=null&&P.touched)?30:-1),a(5),u("invalid",((M=e.registerForm.get("Contrasena"))==null?null:M.invalid)&&((M=e.registerForm.get("Contrasena"))==null?null:M.touched)),a(),c((x=e.registerForm.get("Contrasena"))!=null&&x.invalid&&((x=e.registerForm.get("Contrasena"))!=null&&x.touched)?36:-1),a(4),u("invalid",((O=e.registerForm.get("confirmarContrasena"))==null?null:O.invalid)&&((O=e.registerForm.get("confirmarContrasena"))==null?null:O.touched)),a(),c((F=e.registerForm.get("confirmarContrasena"))!=null&&F.invalid&&((F=e.registerForm.get("confirmarContrasena"))!=null&&F.touched)?41:-1),a(9),c((E=e.registerForm.get("Aceptacion_TYC"))!=null&&E.invalid&&((E=e.registerForm.get("Aceptacion_TYC"))!=null&&E.touched)?50:-1),a(9),c((y=e.registerForm.get("Aceptacion_Politica"))!=null&&y.invalid&&((y=e.registerForm.get("Aceptacion_Politica"))!=null&&y.touched)?59:-1),a(2),w("disabled",e.registerForm.invalid||e.isLoading),a(),c(e.isLoading?62:63)}},dependencies:[A,H,V,I,D,z,j,Y,B,q],styles:[".auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:calc(100vh - 80px);padding:2rem;background-color:#f8f9fa}.auth-card[_ngcontent-%COMP%]{width:100%;max-width:650px;background-color:#fff;border-radius:10px;box-shadow:0 4px 20px #00000014;padding:2.5rem}.auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;color:#333;margin-bottom:.5rem}.auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1rem}.error-message[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;padding:.8rem;border-radius:4px;margin-bottom:1.5rem;font-size:.9rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:.8rem;border:1px solid #ddd;border-radius:4px;font-size:1rem;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{outline:none;border-color:#e74c3c}.form-group[_ngcontent-%COMP%]   input[type=text].invalid[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=email].invalid[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=password].invalid[_ngcontent-%COMP%]{border-color:#c62828}.form-group[_ngcontent-%COMP%]   .error-hint[_ngcontent-%COMP%]{color:#c62828;font-size:.8rem;margin-top:.3rem}.checkbox-group[_ngcontent-%COMP%]{margin-bottom:1rem}.checkbox-group[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.checkbox-group[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.checkbox-group[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;font-size:.9rem}.checkbox-group[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e74c3c;text-decoration:none}.checkbox-group[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{width:100%;padding:.8rem;background-color:#e74c3c;color:#fff;border:none;border-radius:4px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s;display:flex;justify-content:center;align-items:center}.form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover{background-color:#c0392b}.form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:disabled{background-color:#e0e0e0;color:#9e9e9e;cursor:not-allowed}.form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin .8s linear infinite;margin-right:.5rem}.auth-footer[_ngcontent-%COMP%]{margin-top:2rem;text-align:center}.auth-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.auth-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e74c3c;text-decoration:none;font-weight:500}.auth-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:0}.auth-card[_ngcontent-%COMP%]{padding:1.5rem}}"]})};export{J as RegisterComponent};
