import{a as Q}from"./chunk-7VE3XDZN.js";import"./chunk-YECV26LB.js";import{c as F,g as j,j as N,o as D,p as A,r as W,w as L}from"./chunk-OML2JDMB.js";import{$a as a,Ca as p,Eb as E,Fb as V,Ia as r,Ja as o,Ka as u,Kb as T,Na as b,P as d,Pa as f,Q as g,Qa as s,Ta as y,Yb as z,_a as R,ab as x,bb as C,cb as S,eb as h,fb as M,gb as v,ia as O,jb as k,la as c,pa as P,qb as I,ta as w,ya as _}from"./chunk-KV2FSBEJ.js";var B=()=>[5,10,15,20];function q(i,n){if(i&1&&(r(0,"option",12),a(1),o()),i&2){let e=n.$implicit;p("value",e),c(),x(e)}}function U(i,n){if(i&1&&u(0,"img",22),i&2){let e=s().$implicit;y("alt","Imagen de ",e.nombre,""),p("src",e.imagen,O)}}function G(i,n){if(i&1){let e=b();r(0,"div",13),f("click",function(){let t=d(e).$implicit,m=s(2);return g(m.verDetallesReceta(t.receta_id))}),r(1,"div",14)(2,"h3"),a(3),o()(),r(4,"p",15),a(5),o(),_(6,U,1,3,"img",16),r(7,"div",17)(8,"span",18),u(9,"i",19),a(10),o(),r(11,"span",18),u(12,"i",20),a(13),o()(),r(14,"div",21)(15,"span"),a(16,"Ver detalles"),o()()()}if(i&2){let e=n.$implicit;c(3),x(e.nombre),c(2),x(e.descripcion),c(),p("ngIf",e.imagen),c(4),C(" ",e.tiempo_total||e.tiempo_preparacion+(e.tiempo_coccion||0)," min"),c(3),C(" ",e.dificultad,"")}}function H(i,n){if(i&1){let e=b();r(0,"div")(1,"h2"),a(2,"Mis Recetas"),o(),r(3,"div",2)(4,"label",3),a(5,"Recetas por p\xE1gina:"),o(),r(6,"select",4),v("ngModelChange",function(t){d(e);let m=s();return M(m.itemsPerPage,t)||(m.itemsPerPage=t),g(t)}),f("change",function(){d(e);let t=s();return g(t.onItemsPerPageChange())}),_(7,q,2,2,"option",5),o()(),r(8,"div",6)(9,"input",7),v("ngModelChange",function(t){d(e);let m=s();return M(m.searchQuery,t)||(m.searchQuery=t),g(t)}),f("input",function(){d(e);let t=s();return g(t.onSearch())}),o()(),r(10,"div",8),_(11,G,17,5,"div",9),o(),r(12,"div",10)(13,"button",11),f("click",function(){d(e);let t=s();return g(t.onPageChange(t.currentPage-1))}),a(14,"Anterior"),o(),r(15,"span"),a(16),o(),r(17,"button",11),f("click",function(){d(e);let t=s();return g(t.onPageChange(t.currentPage+1))}),a(18,"Siguiente"),o()()()}if(i&2){let e=s();c(6),h("ngModel",e.itemsPerPage),c(),p("ngForOf",k(8,B)),c(2),h("ngModel",e.searchQuery),c(2),p("ngForOf",e.filteredRecetas),c(2),p("disabled",e.currentPage===1),c(3),S("P\xE1gina ",e.currentPage," de ",e.totalPages,""),c(),p("disabled",e.currentPage>=e.totalPages)}}function J(i,n){i&1&&(r(0,"h2"),a(1,"No has creado ninguna receta a\xFAn."),o(),r(2,"p"),a(3,"\xA1An\xEDmate a crear tu primera receta!"),o(),r(4,"a",23),a(5,"Crear Receta"),o())}var Y=class i{constructor(n,e){this.recetasService=n;this.router=e}recetas=[];filteredRecetas=[];searchQuery="";filterCriteria="nombre";currentPage=1;itemsPerPage=5;totalItems=0;ngOnInit(){this.obtenerRecetasPersonales()}obtenerRecetasPersonales(){this.recetasService.obtenerRecetasPersonales(this.currentPage,this.itemsPerPage).subscribe(n=>{this.recetas=n.datos,this.filteredRecetas=this.recetas,this.totalItems=n.totalItems},n=>{console.error("Error al obtener las recetas personales:",n)})}verDetallesReceta(n){this.router.navigate(["/recetas/detalle",n])}onPageChange(n){this.currentPage=n,this.obtenerRecetasPersonales()}onItemsPerPageChange(){this.currentPage=1,this.obtenerRecetasPersonales()}onSearch(){let n=this.searchQuery.toLowerCase();this.filteredRecetas=this.recetas.filter(e=>e[this.filterCriteria]?.toString().toLowerCase()?.includes(n))}get totalPages(){return Math.ceil(this.totalItems/this.itemsPerPage)}static \u0275fac=function(e){return new(e||i)(P(Q),P(z))};static \u0275cmp=w({type:i,selectors:[["app-recetas-personales"]],decls:3,vars:2,consts:[["noRecetas",""],[4,"ngIf","ngIfElse"],[1,"items-per-page-selector"],["for","itemsPerPage"],["id","itemsPerPage",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"filter-bar"],["type","text","placeholder","Buscar recetas...",3,"ngModelChange","input","ngModel"],[1,"recetas-container"],["class","receta-card",3,"click",4,"ngFor","ngForOf"],[1,"pagination-controls"],[3,"click","disabled"],[3,"value"],[1,"receta-card",3,"click"],[1,"receta-header"],[1,"receta-descripcion"],["class","receta-imagen",3,"src","alt",4,"ngIf"],[1,"receta-info"],[1,"info-item"],[1,"fas","fa-clock"],[1,"fas","fa-signal"],[1,"ver-detalle-btn"],[1,"receta-imagen",3,"src","alt"],["routerLink","/crear-receta",1,"btn","btn-primary"]],template:function(e,l){if(e&1&&_(0,H,19,9,"div",1)(1,J,6,0,"ng-template",null,0,I),e&2){let t=R(2);p("ngIf",l.recetas.length>0)("ngIfElse",t)}},dependencies:[T,E,V,L,A,W,F,D,j,N],styles:[".items-per-page-selector[_ngcontent-%COMP%]{margin-bottom:1.5rem;display:flex;align-items:center;justify-content:center}.items-per-page-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-right:.5rem;font-size:1.1rem;color:#555}.items-per-page-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.6rem;border:1px solid #aaa;border-radius:6px;font-size:1rem;background-color:#f9f9f9;color:#333;transition:border-color .3s}.items-per-page-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.filter-bar[_ngcontent-%COMP%]{margin-bottom:1.5rem;display:flex;justify-content:center}.filter-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:.6rem;border:1px solid #aaa;border-radius:6px;font-size:1rem;background-color:#f9f9f9;color:#333;transition:border-color .3s}.filter-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.recetas-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem;justify-content:center}.recetas-container[_ngcontent-%COMP%]   .receta-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:10px;padding:1.5rem;width:280px;box-shadow:0 4px 8px #0000001a;text-align:center;background-color:#fff;transition:transform .3s,box-shadow .3s}.recetas-container[_ngcontent-%COMP%]   .receta-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 12px #00000026}.recetas-container[_ngcontent-%COMP%]   .receta-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:.8rem;font-size:1.3rem;color:#333}.recetas-container[_ngcontent-%COMP%]   .receta-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;color:#666;font-size:.95rem}.recetas-container[_ngcontent-%COMP%]   .receta-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px;margin-bottom:1rem}.pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1.5rem;margin-top:2rem}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.6rem 1.2rem;border:none;border-radius:6px;background-color:#007bff;color:#fff;font-size:1rem;cursor:pointer;transition:background-color .3s}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.pagination-controls[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;color:#555}",".recetas-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center;margin:20px 0}.receta-card[_ngcontent-%COMP%]{position:relative;border:1px solid #ddd;border-radius:8px;overflow:hidden;width:300px;transition:transform .3s ease,box-shadow .3s ease;box-shadow:0 2px 5px #0000001a;cursor:pointer}.receta-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #0003}.receta-header[_ngcontent-%COMP%]{padding:15px;background-color:#f8f9fa;border-bottom:1px solid #eee}.receta-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;color:#333}.receta-descripcion[_ngcontent-%COMP%]{padding:10px 15px;color:#666;font-size:14px;height:60px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical}.receta-imagen[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover}.receta-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 15px;background-color:#f8f9fa;font-size:14px;color:#666}.info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.ver-detalle-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;background-color:#007bffd9;color:#fff;text-align:center;padding:10px;font-weight:700;transform:translateY(100%);transition:transform .3s ease}.receta-card[_ngcontent-%COMP%]:hover   .ver-detalle-btn[_ngcontent-%COMP%]{transform:translateY(0)}.items-per-page-selector[_ngcontent-%COMP%]{margin:20px 0;display:flex;align-items:center;gap:10px}.filter-bar[_ngcontent-%COMP%]{margin-bottom:20px}.filter-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px}.pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:15px;margin-top:20px}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 20px;border-radius:4px;text-decoration:none;display:inline-block;margin-top:15px}"]})};export{Y as RecetasPersonalesComponent};
